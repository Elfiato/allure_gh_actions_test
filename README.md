# Тестовое задание

## Описание

- Реализованы тесты поиска и картинок сайта https://ya.ru/.
- Тесты написаны с использованием паттерна PageObject.
- Есть возможность запускать тесты в несколько потоков и через Selenoid.
- По результатам тестирования формируется allure-отчет с добавлением в него логов и скриношотов упавших тестов.
- Добавлен запуск тестов через Github Actions.
- В связи с тем, что адрес https://yandex.ru/ теперь редиректит на Дзен, произведено тестирование именно
  сайта https://ya.ru/.
  Однако при использовании тестового ПО Яндекс, практически всегда, перенаправляет на страницу капчи,
  которую невозможно обойти методами Selenium. Поэтому в прикреплённом отчете и результатах прогона Github Actions есть
  упавшие тесты.

## Установка

`pip install -r requirements.txt`

## Запуск

- `pytest -sv -n 2` - основной вид запуска, браузер запускается не в фоновом режиме, тесты идут в 2 потока.

К этому варианту можно добавлять следующие флаги:

- `--alluredir={путь до папки в которую будут сформированы файлы для allure отчета}`;
- `--headless` - запуск браузера в фоновом режиме;
- `--selenoid` и `--vnc` запуск тестов через Selenoid (по умолчанию находится на http://localhost:4444/wd/hub);

## Просмотр отчета

- `allure serve {путь до папки в которой сформированы файлы для allure отчета}`
